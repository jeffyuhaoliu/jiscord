The task is blocked by the permission system. Here's a summary of what needs to be done manually to `services/data-service/src/repositories/UserRepository.ts`:

**Change 1 — Replace `getUserById` with `batchGetById`:**

```ts
// REMOVE:
async getUserById(userId: string): Promise<User | null> {
  return this.userLoader.load(userId);
}

// ADD:
async batchGetById(ids: string[]): Promise<(User | null)[]> {
  return this.userLoader.loadMany(ids).then((results) =>
    results.map((r) => (r instanceof Error ? null : r)),
  );
}
```

**Change 2 — Switch `createUser` to a data object:**

```ts
// CHANGE signature from:
async createUser(username: string, email: string, passwordHash: string): Promise<User>

// TO:
async createUser(data: { username: string; email: string; password_hash: string }): Promise<User>
// then destructure: const { username, email, password_hash } = data;
// and update all references to passwordHash → password_hash
```

The DataLoader batching logic and `getUserByEmail` are already correct and don't need changes. Once you approve write permissions or make these edits manually, the task can be closed.
